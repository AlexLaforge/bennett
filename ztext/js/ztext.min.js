/*!
 * ztext v0.0.1
 * Copyright 2020 Bennett Feely
 * https://bennettfeely.com/ztext
 */
z_default={depth:"1rem",direction:"both",event:"none",eventRotation:"45deg",eventDirection:"default",fade:!1,layers:10,perspective:"500px",z:!0};var zs=document.querySelectorAll("[data-z]");function Ztextify(e,t){document.querySelectorAll(e).forEach(e=>{draw(e,t)})}function draw(e,t){if("false"!==(t.zEngaged||z_default.zEngaged)){var a=t.depth||z_default.depth,n=a.match(/[a-z]+/)[0],r=parseFloat(a.replace(n,"")),s=t.direction||z_default.direction,l=t.event||z_default.event,o=t.eventRotation||z_default.eventRotation,d=o.match(/[a-z]+/)[0],c=parseFloat(o.replace(d,"")),f=t.eventDirection||z_default.eventDirection,p=t.fade||z_default.fade,v=t.layers||z_default.layers,y=t.perspective||z_default.perspective,u=t.transform||z_default.transform,z=e.innerHTML;e.innerHTML="",e.style.display="inline-block",e.style.position="relative",e.style.webkitPerspective=y,e.style.perspective=y;var m=document.createElement("span");m.setAttribute("class","z-text"),m.style.display="inline-block",m.style.webkitTransformStyle="preserve-3d",m.style.transformStyle="preserve-3d";var w=document.createElement("span");for(w.setAttribute("class","z-layers"),w.style.display="inline-block",w.style.webkitTransformStyle="preserve-3d",w.style.transformStyle="preserve-3d",m.append(w),i=0;i<v;i++){let e=i/v;var h=document.createElement("span");if(h.setAttribute("class","z-layer"),h.innerHTML=z,h.style.display="inline-block","backwards"===s)var _=-e*r;if("both"===s)_=-e*r+r/2;if("forwards"===s)_=-e*r+r;u="translateZ("+_+n+")";h.style.webkitTransform=u,h.style.transform=u,i>=1&&(h.style.position="absolute",h.style.top=0,h.style.left=0,h.setAttribute("aria-hidden","true"),h.style.pointerEvents="none",h.style.mozUserSelect="none",h.style.msUserSelect="none",h.style.webkitUserSelect="none",h.style.userSelect="none",!0!==p&&"true"!==p||(h.style.opacity=(1-e)/2)),w.append(h)}function b(e,t){if("reverse"==f)var a=-1;else a=1;var n="rotateX("+-t*c*a+d+") rotateY("+e*c*a+d+")";w.style.webkitTransform=n,w.style.transform=n}e.append(m),"pointer"===l&&(window.addEventListener("mousemove",e=>{b(e.clientX/window.innerWidth-.5,e.clientY/window.innerHeight-.5)},!1),window.addEventListener("touchmove",e=>{b(e.touches[0].clientX/window.innerWidth-.5,e.touches[0].clientY/window.innerHeight-.5)},!1))}}zs.forEach(e=>{options={depth:e.dataset.zDepth||z_default.depth,direction:e.dataset.zDirection||z_default.direction,event:e.dataset.zEvent||z_default.event,eventRotation:e.dataset.zEventrotation||z_default.eventRotation,eventDirection:e.dataset.zEventdirection||z_default.eventDirection,fade:e.dataset.zFade||z_default.fade,layers:parseFloat(e.dataset.zLayers)||z_default.layers,perspective:e.dataset.zPerspective||z_default.perspective,zEngaged:e.dataset.z||z_default.z},draw(e,options)});