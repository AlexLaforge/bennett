/*!
 * Ztext 0.0.1
 *
 * Copyright 2020 Bennett Feely
 * https://bennettfeely.com/ztext
 */
z_default={depth:"1rem",direction:"both",event:"none",eventRotation:"45deg",eventDirection:"default",fade:!1,layers:10,perspective:"500px",z:!0};var zs=document.querySelectorAll("[data-z]");function Ztextify(e,t){document.querySelectorAll(e).forEach(e=>{draw(e,t)})}function draw(e,t){if("false"!==(t.zEngaged||z_default.zEngaged)){var a=t.depth||z_default.depth,n=a.match(/[a-z]+/)[0],r=parseFloat(a.replace(n,"")),s=t.direction||z_default.direction,l=t.event||z_default.event,d=t.eventRotation||z_default.eventRotation,o=d.match(/[a-z]+/)[0],c=parseFloat(d.replace(o,"")),p=t.eventDirection||z_default.eventDirection,f=t.fade||z_default.fade,u=t.layers||z_default.layers,v=t.perspective||z_default.perspective,z=(t.transform||z_default.transform,e.innerHTML);e.innerHTML="",e.style.display="inline-block",e.style.position="relative",e.style.transformStyle="preserve-3d",e.style.perspective=v;var y=document.createElement("span");y.setAttribute("class","z-text"),y.style.display="inline-block",y.style.transformStyle="preserve-3d";var m=document.createElement("span");for(m.setAttribute("class","z-layers"),m.style.display="inline-block",m.style.transformStyle="preserve-3d",y.append(m),i=0;i<u;i++){let e=i/u;var h=document.createElement("span");if(h.setAttribute("class","z-layer"),h.innerHTML=z,h.style.display="inline-block","backwards"===s)var _=-e*r;if("both"===s)_=-e*r+r/2;if("forwards"===s)_=-e*r+r;h.style.transform="translateZ("+_+n+")",i>=1&&(h.style.position="absolute",h.style.top=0,h.style.left=0,h.setAttribute("aria-hidden","true"),h.style.pointerEvents="none",h.style.userSelect="none",!0!==f&&"true"!==f||(h.style.opacity=(1-e)/2)),m.append(h)}function w(e,t){if("reverse"==p)var a=-1;else a=1;var n=e*c*a,r=-t*c*a,i=o;m.style.transform="rotateX("+r+i+") rotateY("+n+i+")"}e.append(y),"pointer"===l&&(window.addEventListener("mousemove",e=>{w(e.clientX/window.innerWidth-.5,e.clientY/window.innerHeight-.5)},!1),window.addEventListener("touchmove",e=>{w(e.touches[0].clientX/window.innerWidth-.5,e.touches[0].clientY/window.innerHeight-.5)},!1))}}zs.forEach(e=>{options={depth:e.dataset.zDepth||z_default.depth,direction:e.dataset.zDirection||z_default.direction,event:e.dataset.zEvent||z_default.event,eventRotation:e.dataset.zEventrotation||z_default.eventRotation,eventDirection:e.dataset.zEventdirection||z_default.eventDirection,fade:e.dataset.zFade||z_default.fade,layers:parseFloat(e.dataset.zLayers)||z_default.layers,perspective:e.dataset.zPerspective||z_default.perspective,zEngaged:e.dataset.z||z_default.z},draw(e,options)});