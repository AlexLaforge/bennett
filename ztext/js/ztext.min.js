/*!
 * ztext.js v0.0.1
 * https://bennettfeely.com/ztext
 * Licensed MIT Â© Zeno Rocha
 */
z_default={depth:"1rem",direction:"both",event:"none",eventRotation:"30deg",eventDirection:"default",fade:!1,layers:10,perspective:"500px",z:!0};var zs=document.querySelectorAll("[data-z]");function Ztextify(e,t){document.querySelectorAll(e).forEach(e=>{draw(e,t)})}function draw(e,t){if("false"!==(t.zEngaged||z_default.zEngaged)){var n=t.depth||z_default.depth,a=n.match(/[a-z]+/)[0],r=parseFloat(n.replace(a,"")),l=t.direction||z_default.direction,o=t.event||z_default.event,s=t.eventRotation||z_default.eventRotation,d=s.match(/[a-z]+/)[0],c=parseFloat(s.replace(d,"")),p=t.eventDirection||z_default.eventDirection,f=t.fade||z_default.fade,v=t.layers||z_default.layers,u=t.perspective||z_default.perspective,w=t.transform||z_default.transform,y=e.innerHTML;e.innerHTML="",e.style.display="inline-block",e.style.position="relative",e.style.webkitPerspective=u,e.style.perspective=u;var z=document.createElement("span");z.setAttribute("class","z-text"),z.style.display="inline-block",z.style.webkitTransformStyle="preserve-3d",z.style.transformStyle="preserve-3d";var h=document.createElement("span");for(h.setAttribute("class","z-layers"),h.style.display="inline-block",h.style.webkitTransformStyle="preserve-3d",h.style.transformStyle="preserve-3d",z.append(h),i=0;i<v;i++){let e=i/v;var m=document.createElement("span");if(m.setAttribute("class","z-layer"),m.innerHTML=y,m.style.display="inline-block","backwards"===l)var g=-e*r;if("both"===l)g=-e*r+r/2;if("forwards"===l)g=-e*r+r;w="translateZ("+g+a+")";m.style.webkitTransform=w,m.style.transform=w,i>=1&&(m.style.position="absolute",m.style.top=0,m.style.left=0,m.setAttribute("aria-hidden","true"),m.style.pointerEvents="none",m.style.mozUserSelect="none",m.style.msUserSelect="none",m.style.webkitUserSelect="none",m.style.userSelect="none",!0!==f&&"true"!==f||(m.style.opacity=(1-e)/2)),h.append(m)}function _(e,t){if(Number.prototype.clamp=function(e,t){return Math.min(Math.max(this,e),t)},"reverse"==p)var n=-1;else n=1;var i=e*c*n,a=-t*c*n,r=(i.clamp(-1,1),a.clamp(-1,1),"rotateX("+a+d+") rotateY("+i+d+")");h.style.webkitTransform=r,h.style.transform=r}e.append(z),"pointer"===o&&(window.addEventListener("mousemove",e=>{_(2*(e.clientX/window.innerWidth-.5),2*(e.clientY/window.innerHeight-.5))},!1),window.addEventListener("touchmove",e=>{_(2*(e.touches[0].clientX/window.innerWidth-.5),2*(e.touches[0].clientY/window.innerHeight-.5))},!1)),"scroll"==o&&window.addEventListener("scroll",t=>{var n=e.getBoundingClientRect(),i=n.left+n.width/2-window.innerWidth/2,a=n.top+n.height/2-window.innerHeight/2;_(i/window.innerWidth*-2,a/window.innerHeight*-2)},!1),"scrollY"==o&&window.addEventListener("scroll",t=>{var n=e.getBoundingClientRect();_(0,(n.top+n.height/2-window.innerHeight/2)/window.innerHeight*-2)},!1),"scrollX"==o&&window.addEventListener("scroll",t=>{var n=e.getBoundingClientRect();_((n.left+n.width/2-window.innerWidth/2)/window.innerWidth*-2,0)},!1)}}zs.forEach(e=>{options={depth:e.dataset.zDepth||z_default.depth,direction:e.dataset.zDirection||z_default.direction,event:e.dataset.zEvent||z_default.event,eventRotation:e.dataset.zEventrotation||z_default.eventRotation,eventDirection:e.dataset.zEventdirection||z_default.eventDirection,fade:e.dataset.zFade||z_default.fade,layers:parseFloat(e.dataset.zLayers)||z_default.layers,perspective:e.dataset.zPerspective||z_default.perspective,zEngaged:e.dataset.z||z_default.z},draw(e,options)});